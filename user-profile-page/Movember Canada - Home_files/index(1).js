!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=a("../ClickableList/ClickableList.jsx"),l=d(k),m=a("../TextInput/TextInput.jsx"),n=d(m),o=function(a){function b(a){f(this,b);var c=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={inputValue:c.props.value,searchResults:[],highlightedResult:-1,noResultsFound:!1,searchResultsHidden:!0,isLoading:!1},c.onInputChange=c.onInputChange.bind(c),c.onInputKeyUp=c.onInputKeyUp.bind(c),c.onInputKeyDown=c.onInputKeyDown.bind(c),c.onInputFocus=c.onInputFocus.bind(c),c.onInputBlur=c.onInputBlur.bind(c),c.clearInputAndResults=c.clearInputAndResults.bind(c),c.onSearchResultClick=c.onSearchResultClick.bind(c),c.onSearchResultMouseEnter=c.onSearchResultMouseEnter.bind(c),c.makeAJAXcall=c.makeAJAXcall.bind(c),c.arrowKeyCodesKeyUp={37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown"},c.arrowKeyCodesKeyDown={13:"Enter",38:"ArrowUp",40:"ArrowDown"},c.timeout=null,c.clickableList=null,c.clickableListElementHeight=0,c}return h(b,a),j(b,[{key:"render",value:function(){var a=this,b=this.props,c=b.className,d=(b.minLength,b.url,b.resultsRoot,b.resultsPlainFormat),f=b.displayPlainTextCondition,g=b.resultsBoldFormat,h=b.displayBoldTextCondition,j=(b.selectedResultFormat,b.noResultsFoundMessage),k=b.inputGroupItems,m=(b.onInputChange,b.onResultSelected,e(b,["className","minLength","url","resultsRoot","resultsPlainFormat","displayPlainTextCondition","resultsBoldFormat","displayBoldTextCondition","selectedResultFormat","noResultsFoundMessage","inputGroupItems","onInputChange","onResultSelected"]));return React.createElement("div",{className:"ajaxSearchInput"+(c?" "+c:"")},React.createElement(n.default,i({type:"text"},m,{className:"ajaxSearchInput--input form-control",value:this.state.inputValue,onChange:this.onInputChange,onKeyUp:this.onInputKeyUp,onKeyDown:this.onInputKeyDown,onFocus:this.onInputFocus,onBlur:this.onInputBlur})),this.state.isLoading&&React.createElement("span",{className:"ajaxSearchInput--loading"}),React.createElement("div",{className:"ajaxSearchInput--results-wrapper"+(this.state.searchResultsHidden?" ajaxSearchInput--results-wrapper-hidden":"")},React.createElement(l.default,{listClass:"ajaxSearchInput--search-results",ref:function(b){a.clickableList=b},itemClass:"ajaxSearchInput--result",highlightedItem:this.state.highlightedResult,items:this.state.searchResults,plainTextFormat:d,displayPlainTextCondition:f,boldTextFormat:g,displayBoldTextCondition:h,onItemClick:this.onSearchResultClick,onItemMouseEnter:this.onSearchResultMouseEnter,onItemBlur:this.onInputBlur,onItemFocus:this.onInputFocus}),j&&this.state.noResultsFound&&React.createElement("div",{className:"ajaxSearchInput--no-results-found"},j)),k&&k.constructor===Array&&k.map(function(a,b){return React.createElement("div",{className:"input-group-addon",key:b},a)}))}},{key:"onInputChange",value:function(a){this.setState({inputValue:a.target.value}),this.props.onInputChange&&"function"==typeof this.props.onInputChange&&this.props.onInputChange(a)}},{key:"onInputKeyUp",value:function(a){var b=this.state.inputValue,c=a.keyCode||a.which;if(this.arrowKeyCodesKeyUp[c]){if(a.preventDefault(),40===c){var d=this.state.highlightedResult+1;0<=d&&d<this.state.searchResults.length&&(this.setState({highlightedResult:d}),this.scrollSearchResultsIfNecessary(d))}else if(38===c){var e=this.state.highlightedResult-1;0<=e&&e<this.state.searchResults.length&&(this.setState({highlightedResult:e}),this.scrollSearchResultsIfNecessary(e))}}else 13===c?(a.preventDefault(),-1!==this.state.highlightedResult&&this.selectResult(this.state.searchResults[this.state.highlightedResult])):""===b||this.state.noResultsFound?this.setState({searchResults:[],highlightedResult:-1,noResultsFound:!1,searchResultsHidden:!0}):this.props.minLength&&b.length>=this.props.minLength&&this.makeAJAXcall()}},{key:"onInputKeyDown",value:function(a){var b=a.keyCode||a.which;this.arrowKeyCodesKeyDown[b]&&a.preventDefault()}},{key:"onInputFocus",value:function(a){"function"==typeof this.props.onInputFocus&&this.props.onInputFocus(a),this.state.inputValue&&0!==this.state.searchResults.length&&this.setState({searchResultsHidden:!1})}},{key:"onInputBlur",value:function(a){var b=this;"function"==typeof this.props.onInputBlur&&this.props.onInputBlur(a),setTimeout(function(){b.setState({highlightedResult:-1,searchResultsHidden:!0})},100)}},{key:"clearInputAndResults",value:function(){this.setState({inputValue:"",searchResults:[],highlightedResult:-1,noResultsFound:!1,searchResultsHidden:!0})}},{key:"onSearchResultClick",value:function(a){this.selectResult(this.state.searchResults[a])}},{key:"onSearchResultMouseEnter",value:function(a){this.setState({highlightedResult:a})}},{key:"selectResult",value:function(a){var b=this.getFormattedResult(a,this.props.selectedResultFormat);this.setState({inputValue:b,searchResultsHidden:!0}),this.props.onResultSelected&&"function"==typeof this.props.onResultSelected&&this.props.onResultSelected(a,b)}},{key:"scrollSearchResultsIfNecessary",value:function(a){if(!this.state.searchResultsHidden&&this.state.searchResults.length){if(!this.clickableListElementHeight){var b=this.clickableList.ul.childNodes;if(!b[0])return;this.clickableListElementHeight=b[0].offsetHeight>=b[0].clientHeight?b[0].offsetHeight:b[0].clientHeight}var c=this.clickableListElementHeight*a,d=this.clickableListElementHeight*(a+1),e=this.clickableList.ul.scrollTop,f=this.clickableList.ul.clientHeight,g=e<=c&&c<=e+f;e<=d&&d<=e+f?g||(this.clickableList.ul.scrollTop-=this.clickableListElementHeight):this.clickableList.ul.scrollTop+=this.clickableListElementHeight}}},{key:"makeAJAXcall",value:function(){var a=this;this.setState({isLoading:!0}),null===this.timeout&&(this.timeout=setTimeout(function(){a.timeout=null;var b=a.buildAJAXurl(a.props.url,a.state.inputValue);$.ajax({method:"GET",url:b,success:function(b){var c=a.props.resultsRoot?mov.helper.util.getElementFromObj(b,a.props.resultsRoot):b;0===c.length?a.setState({searchResults:[],highlightedResult:-1,noResultsFound:!0,searchResultsHidden:!a.props.noResultsFoundMessage,isLoading:!1}):a.setState({searchResults:c,highlightedResult:-1,noResultsFound:!1,searchResultsHidden:!1,isLoading:!1})},error:function(b,c,d){console.error(a.props.url,c,d.toString()),a.setState({isLoading:!1})}})},300))}},{key:"buildAJAXurl",value:function(a,b){var c="";if(a)if(a.constructor!==Array&&(a=[a]),1===a.length)c=a[0]+b;else{for(var d=0;d<a.length-1;d++)c+=a[d]+b;c+=a[a.length-1]}return c}},{key:"getFormattedResult",value:function(a,b){var c="";if(b){b.constructor!==Array&&(b=[b]);for(var d=b.length,e=0;e<d;e++){var f=b[e],g=mov.helper.util.getElementFromObj(a,f);c+=void 0!==g?g:b[e]}}else c="FORMAT REQUIRED";return c}}]),b}(React.Component);c.default=o},{"../ClickableList/ClickableList.jsx":3,"../TextInput/TextInput.jsx":6}],2:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../ErrorMessage/ErrorMessage.jsx"),f=d(e),g=function(a){var b=a.id,c=a.name,d=a.className,e=a.label,g=a.checked,h=a.onChange,i=a.disabled,j=a.errors;return React.createElement("div",{className:"checkboxInput"+(d?" "+d:"")+(j&&j.length&&j[0]?" _error":"")},React.createElement("input",{type:"checkbox",className:"checkboxInput--input",id:b,"data-test":b,name:c,checked:g,onChange:h,disabled:!0===i&&"disabled"}),React.createElement("label",{className:"checkboxInput--label",id:b+"-label",htmlFor:b},e),j&&j.length&&j[0]&&React.createElement(f.default,{className:"checkboxInput--error",errorStack:j}))};c.default=g},{"../ErrorMessage/ErrorMessage.jsx":4}],3:[function(a,b,c){function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=function(a){function b(a){d(this,b);var c=e(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.getFormattedItem=c.getFormattedItem.bind(c),c.getItemClass=c.getItemClass.bind(c),c.onListItemClick=c.onListItemClick.bind(c),c.onListItemMouseEnter=c.onListItemMouseEnter.bind(c),c.onListItemFocus=c.onListItemFocus.bind(c),c.onListItemBlur=c.onListItemBlur.bind(c),c.canDisplayText=c.canDisplayText.bind(c),c}return f(b,a),g(b,[{key:"render",value:function(){var a=this;return React.createElement("ul",{className:this.props.listClass+" clickableList",id:this.props.listId,ref:function(b){a.ul=b}},this.props.items&&"function"==typeof this.props.items.map&&this.props.items.map(function(b,c){return React.createElement("li",{className:a.getItemClass(c),id:a.props.itemClass?a.props.itemClass+"-"+c:"",key:b.id?b.id:c},React.createElement("a",{className:"clickableList--itemContentWrapper",role:"button",href:b.clickableListItemHref||"javascript:void(0)","data-test":b.clickableListItemDataTest,onClick:function(){return a.onListItemClick(c)},onMouseEnter:function(){return a.onListItemMouseEnter(c)},onFocus:function(){return a.onListItemFocus(c)},onBlur:function(){return a.onListItemBlur(c)}},b.clickableListItemIcon&&React.createElement("i",{className:"clickableList--itemIcon fa "+b.clickableListItemIcon,"aria-hidden":"true"}),b.clickableListItemImage&&React.createElement("img",{className:"clickableList--itemImage",src:b.clickableListItemImage}),a.canDisplayText(b,a.props.displayBoldTextCondition)&&React.createElement("strong",{className:"clickableList--itemStrongText"},a.getFormattedItem(b,a.props.boldTextFormat)),a.canDisplayText(b,a.props.displayPlainTextCondition)&&React.createElement("span",{className:"clickableList--itemPlainText"},a.getFormattedItem(b,a.props.plainTextFormat))))}))}},{key:"canDisplayText",value:function(a,b){if(b){var c=mov.helper.util.getElementFromObj(a,b);if(void 0===c||null===c)return!1}return!0}},{key:"getFormattedItem",value:function(a,b){var c="";if(b){b.constructor!==Array&&(b=[b]);for(var d=b.length,e=0;e<d;e++){var f=b[e],g=mov.helper.util.getElementFromObj(a,f);c+=void 0!==g?g:b[e]}}return c}},{key:"getItemClass",value:function(a){var b="clickableList--item";return this.props.highlightedItem===a&&(b+=" _highlighted"),this.props.itemClass&&(b+=" "+this.props.itemClass),b}},{key:"onListItemClick",value:function(a){"function"==typeof this.props.onItemClick&&this.props.onItemClick(a)}},{key:"onListItemMouseEnter",value:function(a){"function"==typeof this.props.onItemMouseEnter&&this.props.onItemMouseEnter(a)}},{key:"onListItemFocus",value:function(a){"function"==typeof this.props.onItemFocus&&this.props.onItemFocus(a)}},{key:"onListItemBlur",value:function(a){"function"==typeof this.props.onItemBlur&&this.props.onItemBlur(a)}}]),b}(React.Component);c.default=h},{}],4:[function(a,b,c){Object.defineProperty(c,"__esModule",{value:!0});var d=function(a){var b=a.className,c=a.id,d=a.error,e=a.errorStack;return React.createElement("div",{className:b?"errorMessage "+b:"errorMessage",id:c},d||e&&React.createElement("ul",null,e&&e.constructor===Array?e.map(function(a,b){return React.createElement("li",{key:b},a)}):React.createElement("li",null,d)))};c.default=d},{}],5:[function(a,b,c){Object.defineProperty(c,"__esModule",{value:!0});var d=function(a){var b=a.className,c=a.id,d=a.outerLabelText,e=a.isRequired,f=a.values,g=a.checkedValue,h=a.name,i=a.onChange,j=a.onInputFocus,k=a.onInputBlur,l=a.onInputClick;return React.createElement("div",{className:b?"radioInputSet "+b:"radioInputSet",id:c},d&&React.createElement("div",{className:"radioInputSet--outerLabelWrapper"},React.createElement("strong",{className:"radioInputSet--outerLabel"},d,e&&React.createElement("span",{className:"radioInputSet--required"}," *"))),f.constructor===Array?f.map(function(a,b){return React.createElement("div",{className:"radioInputSet--radioInputWrapper",id:"radioInputSet--radioInputWrapper-"+h+"-"+b,key:h+"-"+b},React.createElement("input",{type:"radio",name:h,id:h+"-"+b,"data-test":h+"-"+b,value:b,checked:g===b,onChange:i,onFocus:j,onBlur:k,onClick:l}),React.createElement("label",{className:"radioInputSet--radioInputLabel",id:"radioInputSet--radioInputLabel-"+h+"-"+b,htmlFor:h+"-"+b},a))}):Object.keys(f).map(function(a){return React.createElement("div",{className:"radioInputSet--radioInputWrapper",id:"radioInputSet--radioInputWrapper-"+h+"-"+a,key:h+"-"+a},React.createElement("input",{type:"radio",name:h,id:h+"-"+a,"data-test":h+"-"+a,value:a,checked:g===a,onChange:i,onFocus:j,onBlur:k,onClick:l}),React.createElement("label",{className:"radioInputSet--radioInputLabel",id:"radioInputSet--radioInputLabel-"+h+"-"+a,htmlFor:h+"-"+a},f[a]))}))};c.default=d},{}],6:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){var c={};for(var d in a)b.indexOf(d)>=0||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var i=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=a("../ErrorMessage/ErrorMessage.jsx"),l=d(k),m=function(a){function b(a){f(this,b);var c=g(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={inputIsDirty:!1,inputValue:"",errors:[]},c.input=null,c.getValidClassName=c.getValidClassName.bind(c),c.getAnimatedPlaceholderClassName=c.getAnimatedPlaceholderClassName.bind(c),c.getLabelSuffix=c.getLabelSuffix.bind(c),c.onInputChange=c.onInputChange.bind(c),c.onInputBlur=c.onInputBlur.bind(c),c}return h(b,a),j(b,[{key:"render",value:function(){var a=this,b=this.props,c=b.className,d=b.id,f=b.labelText,g=b.placeholder,h=b.animatedPlaceholder,j=(b.showRequiredMark,b.showRequiredText,b.showOptionalText,b.disabled),k=(b.onChange,b.onBlur,b.onValid,b.onError,b.isActive,b.isDirty),m=b.errors,n=(b.validationsAndErrors,b.canReceiveChangeEvents,b.canReceiveErrorsEvents,b.canReceiveResetEvents,e(b,["className","id","labelText","placeholder","animatedPlaceholder","showRequiredMark","showRequiredText","showOptionalText","disabled","onChange","onBlur","onValid","onError","isActive","isDirty","errors","validationsAndErrors","canReceiveChangeEvents","canReceiveErrorsEvents","canReceiveResetEvents"]));return React.createElement("div",{className:c?"textInput "+c:"textInput"},f&&!h&&React.createElement("label",{className:"textInput--label",htmlFor:d},f,this.getLabelSuffix()),React.createElement("div",{className:"textInput--inputWrapper"+this.getAnimatedPlaceholderClassName()+this.getValidClassName()+(j?" _disabled":"")},h&&React.createElement("label",{className:"textInput--animatedPlaceholder",htmlFor:d},h,this.getLabelSuffix()),React.createElement("input",i({type:"text"},n,{className:"textInput--input"+this.getValidClassName(),id:d,ref:function(b){return a.input=b},placeholder:g?g+this.getLabelSuffix():"",disabled:j,onChange:this.onInputChange,onBlur:this.onInputBlur}))),m&&m.length&&m[0]?React.createElement(l.default,{className:"textInput--error",errorStack:m}):(void 0!==k?k:this.state.inputIsDirty)&&React.createElement(l.default,{className:"textInput--error",errorStack:this.state.errors}))}},{key:"componentDidMount",value:function(){var a=this;this.props.value&&""===this.state.inputValue&&(this.setState({inputIsDirty:!0}),this.onInputChange({target:{value:this.props.value},wasTriggeredManually:!0,wasInitializedManually:!0,wasUpdatedManually:!1})),this.props.id&&(this.props.canReceiveChangeEvents&&mov.helper.broadcast.on("text-input-change-"+this.props.id,function(b){void 0!==b.value&&a.onInputChange({target:{value:b.value}})}),this.props.canReceiveResetEvents&&mov.helper.broadcast.on("text-input-reset-"+this.props.id,function(b){a.setState({inputIsDirty:!1,inputValue:"",errors:[]})}),this.props.canReceiveErrorsEvents&&mov.helper.broadcast.on("text-input-forced-errors-"+this.props.id,function(b){b.errors&&b.errors.constructor===Array&&a.setState({inputIsDirty:!0,errors:b.errors})}))}},{key:"componentDidUpdate",value:function(a,b){var c=this.props.value!==a.value&&this.state.inputValue!==this.props.value;c&&this.onInputChange({target:{value:this.props.value},wasTriggeredManually:!0,wasInitializedManually:!1,wasUpdatedManually:c})}},{key:"getValidClassName",value:function(){var a=this.props.isDirty,b=this.state.inputIsDirty,c=this.state.errors,d=this.props.errors;if(d&&d.length&&this.arrayHasNonEmptyValue(d))return" error";if(!this.props.validationsAndErrors&&!c.length)return"";var e=void 0!==a?a:b;return this.props.validationsAndErrors?e?c.length>0?" error":" valid":"":e&&c.length>0?" error":""}},{key:"getAnimatedPlaceholderClassName",value:function(){if(this.props.animatedPlaceholder){var a="animatedPlaceholder";return this.props.isActive?a+=" _active":a+=this.state.inputValue?" _active":""," "+a}return""}},{key:"getLabelSuffix",value:function(){return this.props.showRequiredMark?" *":this.props.showRequiredText?" ("+mov.helper.cms.translateReact("text-form-field-required",null,{dontWrap:!0})+")":this.props.showOptionalText?" ("+mov.helper.cms.translateReact("text-form-field-optional",null,{dontWrap:!0})+")":""}},{key:"onInputChange",value:function(a){var b=a.target.value;if("function"==typeof this.props.onChange){if(a.wasTriggeredManually&&a.wasUpdatedManually&&!a.wasInitializedManually)var c=b;else var c=this.props.onChange(a);(c||""===c)&&(b=c)}if(this.setState({inputValue:b}),this.props.validationsAndErrors){var d=[],e=[];this.props.validationsAndErrors.map(function(a,c){var f=a.validation,g=a.error;"function"!=typeof f||f(b)||(d.push(g),e.push(c))}),this.setState({errors:d}),e.length>0&&"function"==typeof this.props.onError?this.props.onError(e):"function"==typeof this.props.onValid&&this.props.onValid(b)}}},{key:"onInputBlur",value:function(a){this.setState(function(a,b){return{inputIsDirty:a.inputIsDirty||""!==a.inputValue}}),"function"==typeof this.props.onBlur&&this.props.onBlur(a)}},{key:"getCursorPosition",value:function(){return this.input&&"number"==typeof this.input.selectionStart&&"number"==typeof this.input.selectionEnd?{selectionStart:this.input.selectionStart,selectionEnd:this.input.selectionEnd}:null}},{key:"setCursorPosition",value:function(a,b){this.input&&"number"==typeof this.input.selectionStart&&"number"==typeof this.input.selectionEnd&&("number"==typeof a&&(this.input.selectionStart=a),"number"==typeof b&&(this.input.selectionEnd=b))}},{key:"arrayHasNonEmptyValue",value:function(a){for(var b=a.length,c=0;c<b;c++){a[c];if(a[c])return!0}return!1}}]),b}(React.Component);c.default=m},{"../ErrorMessage/ErrorMessage.jsx":4}],7:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("./../../../common-react-components/CheckboxInput/CheckboxInput.jsx"),j=d(i),k=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={isModalOpen:!1,addPostsToMospace:mov.service.human_api.getAutoPostSetting(),addTeamPostsToMospace:mov.service.human_api.getAutoTeamPostSetting(),addMapToPosts:mov.service.human_api.getMapPostSetting(),activitySummary:mov.service.human_api.getActivitySummarySetting(),measurementSystem:mov.service.human_api.getMeasurementSystem(),areDisconnectOptionsVisible:!1},mov.helper.require.requireAssets("assets/scripts/view/mospace_humanAPI.js"),window.dataLayer=window.dataLayer||[],c.connectToHumanApi=c.connectToHumanApi.bind(c),c.showDisconnectOptions=c.showDisconnectOptions.bind(c),c.hideDisconnectOptions=c.hideDisconnectOptions.bind(c),c.disconnectFromHumanApi=c.disconnectFromHumanApi.bind(c),c.onAddPostsChange=c.onAddPostsChange.bind(c),c.onAddTeamPostsChange=c.onAddTeamPostsChange.bind(c),c.saveHumanApiSettings=c.saveHumanApiSettings.bind(c),c}return g(b,a),h(b,[{key:"render",value:function(){var a=this;return React.createElement("div",{className:"manageHumanApiConnections"},React.createElement("h3",{className:"manageHumanApiConnections--title"},React.createElement("span",{className:this.state.areDisconnectOptionsVisible?"hidden":void 0},mov.helper.cms.translateReact("text-mospace-edit-details-connections-device-title")),React.createElement("span",{className:this.state.areDisconnectOptionsVisible?void 0:"hidden"},mov.helper.cms.translateReact("text-mospace-humanapi-disconnecting-title"))),React.createElement("div",{className:"manageHumanApiConnections--body"},mov.service.human_api.isUserConnected()?React.createElement("div",{className:"manageHumanApiConnections--connectedWrapper"},React.createElement("div",{className:"manageHumanApiConnections--disconnectWrapper"},React.createElement("p",{className:"manageHumanApiConnections--disconnectText"+(this.state.areDisconnectOptionsVisible?" hidden":"")},mov.helper.cms.translateReact("text-mospace-edit-details-humanapi-connected-details",{service:mov.service.human_api.getServiceName()}),React.createElement("a",{href:"javascript:void(0)",role:"button",onClick:this.showDisconnectOptions},mov.helper.cms.translateReact("text-mospace-humanapi-disconnect-button"))),React.createElement("div",{className:"manageHumanApiConnections--disconnectOptions"+(this.state.areDisconnectOptionsVisible?"":" hidden")},React.createElement("a",{className:"manageHumanApiConnections--disconnectBackBtn",href:"javascript:void(0)",role:"button",onClick:this.hideDisconnectOptions},mov.helper.cms.translateReact("text-mospace-humanapi-disconnect-back-button")),React.createElement("div",{className:"manageHumanApiConnections--disconnectKeepMoves margin-bottom-standard"},React.createElement("p",null,mov.helper.cms.translateReact("snippet-mospace-humanapi-disconnect-moves")),React.createElement("button",{onClick:function(){return a.disconnectFromHumanApi(!0)}},mov.helper.cms.translateReact("text-mospace-humanapi-disconnect-moves-submit"))),React.createElement("div",{className:"manageHumanApiConnections--disconnectDeleteMoves"},React.createElement("p",null,mov.helper.cms.translateReact("snippet-mospace-humanapi-delete-moves")),React.createElement("button",{onClick:function(){return a.disconnectFromHumanApi(!1)}},mov.helper.cms.translateReact("text-mospace-humanapi-delete-moves-submit"))))),React.createElement("div",{className:"manageHumanApiConnections--postOptions"+(this.state.areDisconnectOptionsVisible?" hidden":"")},React.createElement("div",{className:"manageHumanApiConnections--postOptions margin-bottom-standard"},React.createElement(j.default,{className:"manageHumanApiConnections--addPosts",id:"manageHumanApiConnections--addPosts",label:mov.helper.cms.translateReact("text-mospace-edit-details-humanapi-auto-post-label"),checked:this.state.addPostsToMospace,onChange:this.onAddPostsChange}),React.createElement("div",{className:"manageHumanApiConnections--sub-options"+(this.state.addPostsToMospace?"":" _disabled")},mov.service.member.getTeamId()>0&&React.createElement(j.default,{className:"manageHumanApiConnections--addTeamPosts",id:"manageHumanApiConnections--addTeamPosts",label:mov.helper.cms.translateReact("text-mospace-edit-details-humanapi-auto-post-team-label"),checked:this.state.addTeamPostsToMospace,disabled:!this.state.addPostsToMospace,onChange:this.onAddTeamPostsChange}))),React.createElement("div",{className:"manageHumanApiConnections--measurementOptions margin-bottom-standard"},React.createElement("h4",null,mov.helper.cms.translateReact("text-mospace-edit-details-humanapi-measurement-system-title")),React.createElement("div",{id:"manageHumanApiConnections--measurement-metric-wrapper"},React.createElement("input",{type:"radio",id:"manageHumanApiConnections--metric",name:"measurementSystem",value:"metric",checked:"metric"===this.state.measurementSystem,onChange:function(b){return a.onMeasurementSystemChange("metric",b.target.checked)}}),React.createElement("label",{htmlFor:"manageHumanApiConnections--metric"}," ",mov.helper.cms.translateReact("text-mospace-edit-details-humanapi-measurement-metric-label"))),React.createElement("div",{id:"manageHumanApiConnections--measurement-imperial-wrapper"},React.createElement("input",{type:"radio",id:"manageHumanApiConnections--imperial",name:"measurementSystem",value:"imperial",checked:"imperial"===this.state.measurementSystem,onChange:function(b){return a.onMeasurementSystemChange("imperial",b.target.checked)}}),React.createElement("label",{htmlFor:"manageHumanApiConnections--imperial"}," ",mov.helper.cms.translateReact("text-mospace-edit-details-humanapi-measurement-imperial-label")))),React.createElement("button",{className:"manageHumanApiConnections--saveOptions",onClick:this.saveHumanApiSettings},mov.helper.cms.translateReact("text-mospace-edit-details-save")))):React.createElement("div",{className:"manageHumanApiConnections--connectWrapper"},React.createElement("p",null,mov.helper.cms.translateReact("snippet-mospace-edit-details-humanapi-not-connected")),React.createElement("button",{onClick:this.connectToHumanApi},mov.helper.cms.translateReact("text-mospace-humanapi-connect-button")))))}},{key:"componentWillReceiveProps",value:function(a){!1===a.isVisible&&!0===this.props.isVisible&&(this.setState({addPostsToMospace:mov.service.human_api.getAutoPostSetting(),addMapToPosts:mov.service.human_api.getMapPostSetting(),areDisconnectOptionsVisible:!1}),"function"==typeof this.props.onChange&&this.props.onChange(!1))}},{key:"connectToHumanApi",value:function(){var a=this;this.state.isModalOpen||(this.setState({isModalOpen:!0}),mov.view.mospace_humanapi.showConnectModal({onConnectionSuccess:function(b,c){mov.helper.overlay.showGlobalLoading(),a.setState({isModalOpen:!1}),mov.service.human_api.connect(c,{done:function(a){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"DL - Event",category:"my-account",action:"Connected Fitness Tracker"}),window.location.reload()},fail:function(a){mov.helper.overlay.hideGlobalLoading()}})},onModalClose:function(){a.setState({isModalOpen:!1})}}))}},{key:"showDisconnectOptions",value:function(){var a=this,b=$(".manageHumanApiConnections");mov.helper.overlay.apply(b),setTimeout(function(){mov.helper.overlay.clear(b),a.setState({areDisconnectOptionsVisible:!0})},500)}},{key:"hideDisconnectOptions",value:function(){var a=this,b=$(".manageHumanApiConnections");mov.helper.overlay.apply(b),setTimeout(function(){mov.helper.overlay.clear(b),a.setState({areDisconnectOptionsVisible:!1})},500)}},{key:"disconnectFromHumanApi",value:function(a){mov.helper.overlay.showGlobalLoading(),mov.service.human_api.disconnect({keepMoves:a,memberId:mov.service.member.getId()},{done:function(){window.location.reload()},fail:function(){mov.helper.overlay.hideGlobalLoading()}})}},{key:"onAddPostsChange",value:function(a){this.setState({addPostsToMospace:a.target.checked}),a.target.checked||(this.setState({addTeamPostsToMospace:!1}),this.setState({addMapToPosts:!1})),"function"==typeof this.props.onChange&&this.props.onChange(!0)}},{key:"onAddTeamPostsChange",value:function(a){this.setState({addTeamPostsToMospace:a.target.checked}),"function"==typeof this.props.onChange&&this.props.onChange(!0)}},{key:"onMeasurementSystemChange",value:function(a,b){this.setState({measurementSystem:a}),"function"==typeof this.props.onChange&&this.props.onChange(!0)}},{key:"saveHumanApiSettings",value:function(){var a=this;mov.helper.overlay.showGlobalLoading();var b={humanapi_auto_post:this.state.addPostsToMospace,humanapi_auto_team_post:this.state.addTeamPostsToMospace,humanapi_auto_gps_post:this.state.addMapToPosts,humanapi_activity_summary:this.state.activitySummary,humanapi_measurement_system:this.state.measurementSystem};mov.service.human_api.saveSettings(b,{done:function(b){mov.helper.overlay.hideGlobalLoading(),!0===a.props.reloadAfterSavingSettings&&window.location.reload(),"function"==typeof a.props.onChange&&a.props.onChange(!1)},fail:function(a){mov.helper.overlay.hideGlobalLoading()}})}}]),b}(React.Component);c.default=k},{"./../../../common-react-components/CheckboxInput/CheckboxInput.jsx":2}],8:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../components/TeamPrompterFrame.jsx"),j=d(i),k=a("../components/TeamThumbnail.jsx"),l=d(k),m=a("../../common-react-components/AjaxSearchInput/AjaxSearchInput.jsx"),n=d(m),o=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={selectedTeam:"",selectedTeamObj:null,formStep:"true"===c.props.showBlurbOnInit?0:1,error:""},c.showFormStep=c.showFormStep.bind(c),c.onTeamSelected=c.onTeamSelected.bind(c),c.onTeamSelectedChange=c.onTeamSelectedChange.bind(c),c.joinTeam=c.joinTeam.bind(c),c.setupForm=c.setupForm.bind(c),c.cancelForm=c.cancelForm.bind(c),c.parentDiv=null,c.ajaxSearchInput=null,c}return g(b,a),h(b,[{key:"render",value:function(){var a=this;return React.createElement("div",{ref:function(b){a.parentDiv=b}}," ",React.createElement(j.default,{outerClassName:"joinTeamPrompter",title:mov.helper.cms.translateReact("text-mospace-header-join-a-team"),imgSrc:mov.helper.cms.translate("image-mospace-team-join-a-team").imgsrc,showImage:this.props.showFrameImage,showBlurb:"true"===this.props.forceBlurb||"true"===this.props.showBlurbOnInit&&0===this.state.formStep?"true":"false",blurbClassName:"joinTeamPrompter--blurb",blurbPText:mov.helper.cms.translateReact("text-mospace-team-join-team"),blurbButtonText:mov.helper.cms.translateReact("text-mospace-edit-details-participation-join-a-team"),onBlurbButtonClick:this.setupForm,hideTitle:this.props.hideTitle},"true"!==this.props.forceBlurb&&1===this.state.formStep&&React.createElement("div",null,!this.state.selectedTeamObj&&React.createElement("div",{"data-test":"join-team-input",className:"joinTeamPrompter--search-team"},"true"===this.props.hideLabel?"":React.createElement("label",null,mov.helper.cms.translateReact("text-mospace-edit-details-team-name")),React.createElement(n.default,{ref:function(b){return a.ajaxSearchInput=b},className:this.props.ajaxInputGroup?"input-group":"",inputGroupItems:this.props.ajaxInputGroup&&[React.createElement("i",{className:"fa fa-search"})],url:mov.vars.baseUrlApi+"team?countryCode="+mov.vars.country+"&page=1&limit=20&q=",minLength:"3",autoComplete:"off",selectedResultFormat:["name"],resultsBoldFormat:["name"," "],resultsPlainFormat:[mov.helper.cms.translateReact("text-register-team-captain-symbol",null,{dontWrap:!0})+": ","Captain.fullName"],displayPlainTextCondition:"Captain.fullName",placeholder:mov.helper.cms.translateReact("text-mospace-team-join-a-team-watermark",null,{dontWrap:!0}),noResultsFoundMessage:mov.helper.cms.translateReact("text-event-search-no-results-found"),onResultSelected:this.onTeamSelected,onInputChange:this.onTeamSelectedChange}),this.state.error&&React.createElement("div",{className:"form_element_errors"},React.createElement("ul",{className:"errors"},React.createElement("li",null,this.state.error)))),this.state.selectedTeamObj?React.createElement("div",{className:"joinTeamPrompter--teamThumbnailWrapper"},React.createElement("h2",null,mov.helper.cms.translateReact("text-register-join-team-selected")),React.createElement(l.default,{teamName:this.state.selectedTeamObj.name,teamProfilePic:this.state.selectedTeamObj.largePictureUrl,teamCaptainName:this.state.selectedTeamObj.Captain?this.state.selectedTeamObj.Captain.fullName:"-",teamCompanyName:this.state.selectedTeamObj.company,teamIsPrivate:this.state.selectedTeamObj.isPrivate})):"true"===this.props.showThumbnailPlaceholder&&React.createElement("div",{className:"joinTeamPrompter--teamThumbnailPlaceholder"}),React.createElement("div",{className:"joinTeamPrompter--controls row"},this.state.selectedTeamObj&&React.createElement("div",{className:"col-md-3 col-xs-4"},React.createElement("button",{"data-test":"join-team-btn",className:"joinTeamPrompter--join-team",onClick:this.joinTeam},mov.helper.cms.translateReact("text-mospace-edit-details-join"))),!0===this.props.hideCancel?"":React.createElement("div",{className:"col-md-9 col-xs-8 joinTeamPrompter--cancel-wrapper"},React.createElement("span",null," ",mov.helper.cms.translateReact("text-or")," "),React.createElement("a",{className:"joinTeamPrompter--cancel",href:"javascript:void(0);",onClick:this.cancelForm},mov.helper.cms.translateReact("text-mospace-edit-details-cancel")))))))}},{key:"showFormStep",value:function(a){0!==a&&1!==a||this.setState({formStep:a}),1===a&&"function"==typeof this.props.onFormStart&&this.props.onFormStart()}},{key:"onTeamSelected",value:function(a,b){dataLayer.push({event:"DL - VPV",category:"joinTeam - Step2",action:"/vpv/joinTeamStep2",contactID:mov.service.member.getContactId()}),this.setState({selectedTeam:b||"",selectedTeamObj:a||null}),"function"==typeof this.props.onTeamSelected&&this.props.onTeamSelected()}},{key:"onTeamSelectedChange",value:function(a){this.setState({selectedTeamObj:null})}},{key:"joinTeam",value:function(){var a=this;if(this.state.selectedTeamObj&&this.state.selectedTeamObj.id){if(dataLayer.push({event:"DL - VPV",category:"joinTeam - Success",action:"/vpv/joinTeamSuccess",contactID:mov.service.member.getContactId()}),"true"!==this.props.callJoinTeamAPI)return void(this.state.selectedTeamObj.isPrivate?this.props.onTeamJoinPending(this.state.selectedTeamObj):this.props.onTeamJoinSuccess(this.state.selectedTeamObj));mov.helper.overlay.showGlobalLoading();var b=mov.vars.baseUrl+"mospace/edit-details/join-a-team/",c=this.state.selectedTeamObj.id;$.get(b,{teamID:c},function(b){0==b.ok?(mov.helper.overlay.clear(a.parentDiv),a.setState({error:b.message})):1==b.code?("function"==typeof a.props.onTeamJoinPending&&a.props.onTeamJoinPending(a.state.selectedTeamObj),setTimeout(mov.helper.overlay.hideGlobalLoading,500)):2==b.code&&($.cookie(mov.vars.cookieName+"_teamId",c,{domain:mov.vars.cookieDomain,path:"/"}),"function"==typeof a.props.onTeamJoinSuccess&&a.props.onTeamJoinSuccess(a.state.selectedTeamObj),setTimeout(mov.helper.overlay.hideGlobalLoading,500))},"json")}}},{key:"setupForm",value:function(){this.setState({selectedTeam:"",selectedTeamObj:null,error:""}),this.showFormStep(1)}},{key:"cancelForm",value:function(){this.state.selectedTeamObj?(this.setState({selectedTeam:"",selectedTeamObj:null,error:""}),this.ajaxSearchInput&&this.ajaxSearchInput.clearInputAndResults()):"true"===this.props.showBlurbOnInit?this.showFormStep(0):this.showFormStep(1),"function"==typeof this.props.onCancel&&this.props.onCancel()}}]),b}(React.Component);c.default=o},{"../../common-react-components/AjaxSearchInput/AjaxSearchInput.jsx":1,"../components/TeamPrompterFrame.jsx":11,"../components/TeamThumbnail.jsx":12}],9:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a("../components/TeamPrompterFrame.jsx"),j=d(i),k=a("../../common-react-components/RadioInputSet/RadioInputSet.jsx"),l=(d(k),a("../../common-react-components/TextInput/TextInput.jsx")),m=d(l),n=a("../../common-react-components/AjaxSearchInput/AjaxSearchInput.jsx"),o=d(n),p=a("../../register/components/FundraisingCategorySelector/FundraisingCategorySelector.jsx"),q=d(p),r=function(a){function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a));return c.state={selectedTeamName:c.props.initTeamName||"",selectedTeamHasCompany:"n",selectedCompanyName:"",fundraisingCategory:"",formStep:"true"===c.props.previousTeamConfirmation?2:"true"===c.props.showBlurbOnInit?0:1,error:""},c.showFormStep=c.showFormStep.bind(c),c.onTeamNameChange=c.onTeamNameChange.bind(c),c.checkTeamNameAvailability=c.checkTeamNameAvailability.bind(c),c.onCompanyNameChange=c.onCompanyNameChange.bind(c),c.onFundraisingCategoryChange=c.onFundraisingCategoryChange.bind(c),c.fundraisingCategoryAllowsCompany=c.fundraisingCategoryAllowsCompany.bind(c),c.startTeam=c.startTeam.bind(c),c.setupForm=c.setupForm.bind(c),c.resetForm=c.resetForm.bind(c),c.parentDiv=null,c.allErrors={"empty-team":mov.helper.cms.translateReact("text-mospace-edit-details-participation-team-field-empty"),"team-exists":mov.helper.cms.translateReact("text-mospace-edit-details-participation-team-exists"),"swear-words":mov.helper.cms.translateReact("text-swear-words"),"empty-company":mov.helper.cms.translateReact("isEmpty")},window.dataLayer=window.dataLayer||[],c}return g(b,a),h(b,[{key:"render",value:function(){var a=this;return React.createElement("div",{ref:function(b){a.parentDiv=b}}," ",React.createElement(j.default,{outerClassName:"startTeamPrompter",title:mov.helper.cms.translateReact("text-mospace-header-start-a-team"),imgSrc:mov.helper.cms.translate("image-mospace-team-start-a-team").imgsrc,showImage:this.props.showFrameImage,showBlurb:"true"===this.props.forceBlurb||"true"===this.props.showBlurbOnInit&&0===this.state.formStep?"true":"false",blurbClassName:"startTeamPrompter--blurb",blurbPText:mov.helper.cms.translateReact("text-mospace-team-start-team"),blurbButtonText:mov.helper.cms.translateReact("text-mospace-edit-details-participation-start-a-team"),onBlurbButtonClick:this.setupForm,hideTitle:this.props.hideTitle,hideDescription:this.props.hideDescription},"true"!==this.props.forceBlurb&&1===this.state.formStep&&React.createElement("form",{className:"startTeamPrompter--form",autoComplete:"off",onSubmit:this.checkTeamNameAvailability},React.createElement(m.default,{className:"startTeamPrompter--teamName",id:"startTeamPrompter--teamName",labelText:mov.helper.cms.translateReact("text-mospace-edit-details-participation-team-name"),placeholder:mov.helper.cms.translateReact("text-mospace-team-start-a-team-watermark",null,{dontWrap:!0}),autoComplete:"off",value:this.state.selectedTeamName,defaultValue:this.props.initTeamName,onChange:this.onTeamNameChange,errors:[this.state.error]}),React.createElement("input",{type:"submit",value:mov.helper.cms.translateReact("text-mospace-edit-details-check-availability",null,{dontWrap:!0})}),React.createElement("span",null," ",mov.helper.cms.translateReact("text-or")," "),React.createElement("a",{href:"javascript:void(0);",onClick:this.resetForm},mov.helper.cms.translateReact("text-mospace-edit-details-cancel"))),"true"!==this.props.forceBlurb&&2===this.state.formStep&&React.createElement("form",{className:"startTeamPrompter--form",autoComplete:"off",onSubmit:this.startTeam},React.createElement("div",{className:"startTeamPrompter--confirmation-message"},React.createElement("p",null,mov.helper.cms.translateReact("text-register-start-team-selected")),React.createElement("p",{className:"startTeamPrompter--confirmation-team-name"},this.state.selectedTeamName)),mov.service.member.isFundraisingCategoryOnTeamStartEnabled()&&React.createElement(q.default,{fundraisingCategory:this.state.fundraisingCategory,onChange:this.onFundraisingCategoryChange,onInputClick:function(b){a.state.fundraisingCategory===b.target.value&&a.onFundraisingCategoryChange(b)}}),this.fundraisingCategoryAllowsCompany()&&React.createElement(o.default,{className:"startTeamPrompter--companyName",id:"startTeamPrompter--companyNameInput",name:"startTeamPrompter--companyNameInput",url:mov.vars.baseUrlApi+"account?country="+mov.vars.country+"&q=",minLength:"2",autoComplete:"off",selectedResultFormat:["title"],resultsPlainFormat:["title"],placeholder:mov.helper.cms.translateReact("text-register-start-team-company-name-placeholder",null,{dontWrap:!0}),value:this.state.selectedCompanyName,noResultsFoundMessage:mov.helper.cms.translateReact("text-event-search-no-results-found"),onResultSelected:this.onCompanyNameChange,onInputChange:this.onCompanyNameChange}),React.createElement("input",{type:"submit",value:mov.helper.cms.translateReact("text-register-start-team-button",null,{dontWrap:!0})}),React.createElement("span",null," ",mov.helper.cms.translateReact("text-or")," "),React.createElement("a",{href:"javascript:void(0);",onClick:this.resetForm},mov.helper.cms.translateReact("text-mospace-edit-details-cancel")))))}},{key:"componentDidMount",value:function(){mov.site.tooltip.initAllTooltips()}},{key:"showFormStep",value:function(a){0!==a&&1!==a&&2!==a||this.setState({formStep:a}),1===a&&this.props.onFormStart&&"function"==typeof this.props.onFormStart&&this.props.onFormStart()}},{key:"onTeamNameChange",value:function(a){this.setState({selectedTeamName:a.target.value}),a.target.value&&this.setState({error:""})}},{key:"onFundraisingCategoryChange",value:function(a){var b=a.target.value;a.target.value===this.state.fundraisingCategory&&(b=""),this.setState({fundraisingCategory:b})}},{key:"fundraisingCategoryAllowsCompany",value:function(){switch(this.state.fundraisingCategory){case"workplace":case"sports":case"campus":return!0;default:return!1}}},{key:"checkTeamNameAvailability",value:function(a){var b=this;a.preventDefault();var c=this.state.selectedTeamName;if(c){this.setState({error:""}),mov.helper.overlay.apply(this.parentDiv);var d={teamname:c};void 0!==mov.storage["mov.section.registration"]&&void 0!==mov.storage["mov.section.registration"].formParams&&(mov.storage["mov.section.registration"].formParams.memberData?d.forMemberId=mov.storage["mov.section.registration"].formParams.memberData.memberId:mov.storage["mov.section.registration"].formParams.memberId&&(d.forMemberId=mov.storage["mov.section.registration"].formParams.memberId),void 0===d.forMemberId&&void 0!==mov.storage["mov.section.registration"].formParams.facebookId&&(d.forFacebookId=mov.storage["mov.section.registration"].formParams.facebookId)),mov.helper.api.get("availability",d,{done:function(a){if(a.result)if("SWEARWORDS"==a.result)b.setState({error:b.allErrors["swear-words"]});else{var c=null;try{c=mov.storage["mov.section.registration"].formParams.memberData.contactId}catch(a){try{c=mov.storage["mov.service.member"].contactId}catch(a){}}window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"DL - VPV",category:"startTeam - Step2",action:"/vpv/checkAvailability",contactId:c}),b.showFormStep(2)}else b.setState({error:b.allErrors["team-exists"]})},always:function(){mov.helper.overlay.clear(b.parentDiv)}})}else this.setState({error:this.allErrors["empty-team"]})}},{key:"startTeam",value:function(a){var b=this;if(a.preventDefault(),"y"===this.state.selectedTeamHasCompany&&!this.state.selectedCompanyName)return void this.setState({error:this.allErrors["empty-company"]});this.setState({error:""});var c=null;try{c=mov.storage["mov.section.registration"].formParams.memberData.contactId}catch(a){}if(null==c)try{c=mov.storage["mov.service.member"].contactId}catch(a){}var d={event:"DL - VPV",category:"startTeam - Success",action:"/vpv/startTeamSuccess",contactId:c};if(""!=this.state.selectedCompanyName&&(d.organisation=this.state.selectedCompanyName),window.dataLayer=window.dataLayer||[],window.dataLayer.push(d),"true"!==this.props.callStartTeamAPI)return void this.props.onTeamStartSuccess({teamName:this.state.selectedTeamName,companyName:this.state.selectedCompanyName});var e={name:this.state.selectedTeamName};this.fundraisingCategoryAllowsCompany()&&(e.company=this.state.selectedCompanyName),this.state.fundraisingCategory&&(e.fundraising_category=this.state.fundraisingCategory),mov.helper.overlay.showGlobalLoading(),mov.helper.api.post("team",JSON.stringify(e),{done:function(){"function"==typeof b.props.onTeamStartSuccess&&b.props.onTeamStartSuccess({teamName:b.state.selectedTeamName,companyName:b.state.selectedCompanyName}),setTimeout(mov.helper.overlay.hideGlobalLoading,500)}})}},{key:"onCompanyNameChange",value:function(a,b){var c=a.target&&a.target.value?a.target.value:b;this.setState({selectedCompanyName:c}),this.setState({error:""})}},{key:"setupForm",value:function(){this.setState({selectedTeamName:"",selectedTeamHasCompany:"",selectedCompanyName:"",error:""}),window.dataLayer.push({event:"DL - VPV",category:"startTeam - Step1",action:"/vpv/teamModalLoaded",contactId:mov.service.member.getContactId()}),this.showFormStep(1)}},{key:"resetForm",value:function(){this.setState({selectedTeamName:"",selectedTeamHasCompany:"",selectedCompanyName:"",error:""}),"true"===this.props.showBlurbOnInit?this.showFormStep(0):this.showFormStep(1),"function"==typeof this.props.onCancel&&this.props.onCancel()}}]),b}(React.Component);c.default=r},{"../../common-react-components/AjaxSearchInput/AjaxSearchInput.jsx":1,"../../common-react-components/RadioInputSet/RadioInputSet.jsx":5,"../../common-react-components/TextInput/TextInput.jsx":6,"../../register/components/FundraisingCategorySelector/FundraisingCategorySelector.jsx":13,"../components/TeamPrompterFrame.jsx":11}],10:[function(a,b,c){Object.defineProperty(c,"__esModule",{value:!0});var d=function(a){var b=a.outerClassName,c=a.outerId,d=a.pText,e=a.buttonText,f=a.onButtonClick,g=a.hideDescription;return React.createElement("div",{className:b,id:c},"true"===g?"":React.createElement("p",null,d),React.createElement("button",{onClick:f},e),!0===/[?&]start-join-team=/.test(location.search)&&React.createElement("button",{onClick:mov.section.mospace_team.redirectToMospaceTeam,className:"margin-left-narrow"},mov.helper.cms.translateReact("text-view-last-campaign-team")))};c.default=d},{}],11:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./TeamBlurb.jsx"),f=d(e),g=function(a){var b=a.outerClassName,c=a.outerId,d=a.title,e=a.imgSrc,g=a.showImage,h=a.showBlurb,i=a.blurbClassName,j=a.blurbId,k=a.blurbPText,l=a.blurbButtonText,m=a.onBlurbButtonClick,n=a.children,o=a.hideTitle,p=a.hideDescription;return React.createElement("div",{className:b?b+" row":"row",id:c},"true"===o?"":React.createElement("h2",{className:"col-md-12"},d),"true"===g&&React.createElement("div",{className:"col-md-3 logo"},React.createElement("img",{src:e,alt:d})),React.createElement("div",{className:"true"===g?"col-md-9":"col-md-12"},"true"===h?React.createElement(f.default,{outerClassName:i,outerId:j,pText:k,buttonText:l,onButtonClick:m,hideDescription:p}):n))};c.default=g},{"./TeamBlurb.jsx":10}],12:[function(a,b,c){Object.defineProperty(c,"__esModule",{value:!0});var d=function(a){var b=a.className,c=a.label,d=a.teamName,e=a.teamProfilePic,f=a.teamCaptainName,g=a.teamCompanyName,h=a.teamIsPrivate,i=a.onCancel;return React.createElement("div",{className:b?b+" teamThumbnail row":"teamThumbnail row"},React.createElement("div",{className:"teamThumbnail--imageWrapper col-md-5 col-xs-4"},e&&React.createElement("div",null,React.createElement("img",{className:"teamThumbnail--image img-responsive",src:e,alt:d}))),React.createElement("div",{className:"teamThumbnail--informationWrapper col-md-7 col-xs-8"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-12"},c&&React.createElement("p",{className:"teamThumbnail--label"},c),React.createElement("div",{className:"teamThumbnail--teamNameWrapper"},React.createElement("h3",{className:"teamThumbnail--teamName"},d),h&&React.createElement("h6",{className:"teamThumbnail--teamIsPrivate"},mov.helper.cms.translateReact("text-mnjtribe-registration.team.pending.pending"))),React.createElement("div",{className:"teamThumbnail--captainNameWrapper"},f&&React.createElement("div",{className:"margin-bottom-standard"},React.createElement("h6",{className:"teamThumbnail--teamCaptainName"},mov.helper.cms.translateReact("text-register-team-captain-symbol")),React.createElement("h4",null,f))),g&&React.createElement("h5",{className:"teamThumbnail--teamCompanyName"},g),i&&React.createElement("a",{className:"teamThumbnail--cancelButton",href:"javascript:void(0)",role:"button",onClick:i},mov.helper.cms.translateReact("text-mospace-edit-details-cancel"))))))};c.default=d},{}],13:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("../../../common-react-components/RadioInputSet/RadioInputSet.jsx"),f=d(e),g=function(a){var b=a.fundraisingCategory,c=a.onChange,d=a.onInputClick;return React.createElement(f.default,{className:"fundraisingCategorySelector",outerLabelText:React.createElement("div",{className:"fundraisingCategorySelector--label"},React.createElement("div",{className:"fundraisingCategorySelector--labelText"},mov.helper.cms.translateReact("text-register-fundraising-category-label")),React.createElement("a",{className:"fundraisingCategorySelector--labelIcon mo-question-empty"+(mov.vars.client.isPortable?" show-popover":" show-tooltip"),"data-toggle":mov.vars.client.isPortable?"popover":"tooltip","data-placement":"left","data-html":"true",href:"javascript:void(0);",title:mov.vars.client.isPortable?void 0:mov.helper.cms.translateReact("text-register-fundraising-category-tooltip",null,{dontWrap:!0}),"data-content":mov.vars.client.isPortable?mov.helper.cms.translateReact("text-register-fundraising-category-tooltip",null,{dontWrap:!0}):void 0},React.createElement("span",{lang:"en",className:"visually-hidden"},"Help"))),name:"fundraising-category",values:{workplace:mov.helper.cms.translateReact("text-register-fundraising-category-workplace"),sports:mov.helper.cms.translateReact("text-register-fundraising-category-sports"),campus:mov.helper.cms.translateReact("text-register-fundraising-category-campus"),friends:mov.helper.cms.translateReact("text-register-fundraising-category-friends")},checkedValue:b,onChange:c,onInputClick:d})};c.default=g},{"../../../common-react-components/RadioInputSet/RadioInputSet.jsx":5}],14:[function(a,b,c){function d(a){return a&&a.__esModule?a:{default:a}}var e=a("../../../bundles/mospace-team/StartOrJoinTeamPrompter/StartTeamPrompter.jsx"),f=d(e),g=a("../../../bundles/mospace-team/StartOrJoinTeamPrompter/JoinTeamPrompter.jsx"),h=d(g),i=a("../../../bundles/mospace-my-account/components/ManageConnections/ManageHumanApiConnections.jsx"),j=d(i);mov.section.mospace_index=function(){function a(){"yes"===$.cookie("has_just_done_fb_login")&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"DL - Event",category:"logIn",action:"Facebook LogIn",memberId:mov.storage["mov.service.member"].id||null,contactId:mov.storage["mov.service.member"].contactId||null,email:mov.storage["mov.service.member"].email||null})),b(),c()}function b(){var a=k.attr("data-entity-id")===mov.service.member.getId(),b="1"===k.attr("data-private"),c="true"===mov.helper.util.getUrlParam("firstvisit"),d="true"===mov.helper.util.getUrlParam("showonboarding"),e=mov.storage["mov.section.mospace"]&&mov.storage["mov.section.mospace"].config["app.site.sections.mogress.enabled"];if(a&&b&&e&&(d||c&&$.cookie(mov.vars.cookieName+"_firstvisit")!==mov.service.member.getId())){$.cookie(mov.vars.cookieName+"_firstvisit",mov.service.member.getId(),{path:"/",domain:mov.vars.cookieDomain});return void(mov.storage["mov.section.mospace"]&&mov.storage["mov.section.mospace"].config["app.site.sections.mospace.onboarding.enabled"]?mov.view.assistant.loadOnboardingForm({onOnboardingCompleted:function(){mov.view.highlighter.highlightElement(".mospace-heroarea--donate-to-me-btn-wrapper",{position:"bottom",positionXS:"top",dataTest:"donate-to-self",titleText:mov.helper.cms.translate("text-tour-donate-to-self-headline"),contentText:mov.helper.cms.translate("snippet-tour-donate-to-self-body-copy"),buttonText:mov.helper.cms.translate("text-tour-donate-to-self-button"),buttonOnClick:"$('html, body').animate({scrollTop: 0}, 300); mov.view.highlighter.clearCurrent();",dark:!0})}}):mov.view.highlighter.init())}}function c(){var a=k.attr("data-entity-id")===mov.service.member.getId(),b="1"===k.attr("data-private"),c=!mov.helper.util.getUrlParam("modal"),d="true"===mov.helper.util.getUrlParam("firstvisit");!(mov.vars.config&&!0===mov.vars.config.suppressMospaceReminder)&&a&&b&&c&&!d&&$(document).ready(function(){setTimeout(function(){mov.view.highlighter.setupReminder()},300)})}function d(){var a={showBlurbOnInit:"false",callStartTeamAPI:"true",onTeamStartSuccess:i,onCancel:mov.helper.modal.closeCurrent};mov.helper.modal.loadContent('<div id="react-start-team-wrapper"></div>',{onSuccess:function(){ReactDOM.render(React.createElement(f.default,a,null),document.getElementById("react-start-team-wrapper"));var b=null;try{b=mov.storage["mov.service.member"].contactId}catch(a){}window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"DL - VPV",category:"startTeam - Step1",action:"/vpv/teamModalLoaded",contactID:b})}})}function e(){var a={showBlurbOnInit:"false",showThumbnailPlaceholder:"false",callJoinTeamAPI:"true",onTeamJoinSuccess:i,onTeamJoinPending:i,onCancel:mov.helper.modal.closeCurrent};mov.helper.modal.loadContent('<div id="react-join-team-wrapper"></div>',{onSuccess:function(){$("#mo-default-modal").removeAttr("tabindex"),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"DL - VPV",category:"joinTeam - Step1",action:"/vpv/joinTeamStep1",contactId:mov.storage["mov.service.member"].contactId||null}),ReactDOM.render(React.createElement(h.default,a,null),document.getElementById("react-join-team-wrapper"))},onHidden:function(){$("#mo-default-modal").attr("tabindex","-1")}})}function g(a){var b=a||{};mov.helper.modal.loadContent('<div id="react-manage-human-api-connections-wrapper"></div>',{onSuccess:function(){ReactDOM.render(React.createElement(j.default,{isVisible:!0,reloadAfterSavingSettings:!0},null),document.getElementById("react-manage-human-api-connections-wrapper")),"function"==typeof b.onSuccess&&b.onSuccess()},onHidden:function(){"function"==typeof b.onHidden&&b.onHidden()}})}function i(){location.reload(!0)}var k=$("mospace-heroarea");return{init:a,startTeam:d,joinTeam:e,showManageHumanApiModal:g}}(),mov.section.mospace_index.init()},{"../../../bundles/mospace-my-account/components/ManageConnections/ManageHumanApiConnections.jsx":7,"../../../bundles/mospace-team/StartOrJoinTeamPrompter/JoinTeamPrompter.jsx":8,"../../../bundles/mospace-team/StartOrJoinTeamPrompter/StartTeamPrompter.jsx":9}]},{},[14]);